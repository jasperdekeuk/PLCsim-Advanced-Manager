@using MudBlazor
@using Color = MudBlazor.Color
@inherits LayoutComponentBase
@inject IDialogService DialogService

<MudThemeProvider Theme="@CustomTheme"/>
<MudDialogProvider/>
<MudSnackbarProvider/>


<MudLayout>
    <MudAppBar Elevation="1">
        <MudText Typo="Typo.h5" Class="ml-3">PLCSim Advanced Manager</MudText>
        <MudSpacer/>
        <MudMenu Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" Edge="Edge.End" >
            <MudMenuItem OnClick="@OpenPsaInfoDialog">Open PSA Information</MudMenuItem>
        </MudMenu>
    </MudAppBar>
    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>


@code {

    MudTheme CustomTheme = new MudTheme()
    {
        Palette = new Palette()
        {
            Primary = Colors.Blue.Darken2,
            Secondary = Colors.Green.Accent4,
            AppbarBackground = Colors.BlueGrey.Darken1,
        },
    };


    private void OpenPsaInfoDialog()
    {
        DialogOptions closeOnEscapeKey = new DialogOptions() { CloseOnEscapeKey = true, FullWidth = true };

        DialogService.Show<PsaInfo>("PLCsim Advanced info", closeOnEscapeKey);
    }

}